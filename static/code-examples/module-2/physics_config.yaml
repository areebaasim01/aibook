# Physics Configuration for Gazebo Simulation
# Module 2: The Digital Twin
#
# This configuration file defines physics parameters
# for realistic robot simulation in Gazebo.

# Physics Engine Settings
physics:
  engine: ode  # Options: ode, bullet, dart, simbody
  max_step_size: 0.001  # 1ms timestep for stability
  real_time_factor: 1.0  # 1.0 = real-time, <1 = slower, >1 = faster
  real_time_update_rate: 1000  # Hz

# ODE Physics Engine Specific
ode:
  solver:
    type: quick  # 'quick' for speed, 'world' for accuracy
    iters: 50    # Solver iterations per step
    sor: 1.3     # Successive over-relaxation parameter
  constraints:
    cfm: 0.0     # Constraint force mixing
    erp: 0.2     # Error reduction parameter
    contact_max_correcting_vel: 100.0
    contact_surface_layer: 0.001

# World Properties
world:
  gravity:
    x: 0.0
    y: 0.0
    z: -9.81  # Earth gravity

# Ground/Floor Properties
ground:
  friction:
    mu: 1.0   # Friction coefficient (rubber on concrete ~0.8-1.0)
    mu2: 1.0  # Secondary friction coefficient
  restitution: 0.0  # Bounciness (0 = no bounce)

# Robot Contact Properties
robot_contacts:
  # Feet contact (for bipedal walking)
  feet:
    friction:
      mu: 1.2   # High friction for stable walking
      mu2: 1.2
    restitution: 0.0
    soft_cfm: 0.001
    soft_erp: 0.2
  
  # Gripper contact
  gripper:
    friction:
      mu: 2.0   # Very high friction for grasping
      mu2: 2.0
    restitution: 0.0

# Sensor Simulation Settings
sensors:
  lidar:
    update_rate: 10  # Hz
    noise:
      type: gaussian
      mean: 0.0
      stddev: 0.01  # 1cm noise
  
  camera:
    update_rate: 30  # FPS
    noise:
      type: gaussian
      mean: 0.0
      stddev: 0.007  # Image noise
  
  depth_camera:
    update_rate: 30  # FPS
    near_clip: 0.1   # meters
    far_clip: 10.0   # meters
    noise:
      type: gaussian
      mean: 0.0
      stddev: 0.005  # 5mm depth noise
  
  imu:
    update_rate: 100  # Hz
    noise:
      angular_velocity:
        mean: 0.0
        stddev: 0.0002  # rad/s
      linear_acceleration:
        mean: 0.0
        stddev: 0.017   # m/sÂ²

# Performance Optimization
performance:
  # GPU acceleration if available
  use_gpu: true
  
  # Simplify collisions for speed
  collision_simplification: true
  
  # Shadow rendering (disable for speed)
  shadows: true
  
  # Level of detail
  lod_bias: 1.0
